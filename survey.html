<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù—ñ–º–µ—Ü—å–∫—ñ –î–æ–∫—É–º–µ–Ω—Ç–∏ v5.0</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; padding: 20px; background-color: var(--tg-theme-bg-color, #ffffff); color: var(--tg-theme-text-color, #000000); }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 14px; }
        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ccc; box-sizing: border-box; font-size: 16px; background: var(--tg-theme-secondary-bg-color, #efeff4); color: var(--tg-theme-text-color, #000000); }
        .hint { font-size: 12px; color: #888; margin-top: 5px; }
    </style>
</head>
<body>
    <h3>üìù –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∞–Ω–∫–µ—Ç–∏</h3>
    
    <div class="form-group">
        <label>–ü–æ–≤–Ω–µ —ñ–º'—è (–õ–∞—Ç–∏–Ω–∏—Ü–µ—é)</label>
        <input type="text" id="full_name" placeholder="Vitalii Pichkur">
        <div class="hint">–Ø–∫ —É –∑–∞–∫–æ—Ä–¥–æ–Ω–Ω–æ–º—É –ø–∞—Å–ø–æ—Ä—Ç—ñ</div>
    </div>

    <div class="form-group">
        <label>–ê–¥—Ä–µ—Å–∞ (–í—É–ª–∏—Ü—è —Ç–∞ –Ω–æ–º–µ—Ä)</label>
        <input type="text" id="address" placeholder="Marienplatz 1">
    </div>

    <div class="form-group">
        <label>–Ü–Ω–¥–µ–∫—Å —Ç–∞ –ú—ñ—Å—Ç–æ</label>
        <input type="text" id="city" placeholder="80331 Muenchen">
    </div>

    <div class="form-group">
        <label>–î–∞—Ç–∞ –ø—ñ–¥–ø–∏—Å—É</label>
        <input type="text" id="date" value="11.01.2026">
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // –ù–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ –≥–æ–ª–æ–≤–Ω—É –∫–Ω–æ–ø–∫—É Telegram
        tg.MainButton.text = "–°–ö–£–í–ê–¢–ò –î–û–ö–£–ú–ï–ù–¢ ‚úÖ";
        tg.MainButton.textColor = "#FFFFFF";
        tg.MainButton.color = "#2cab37";
        tg.MainButton.show();

        // –û—Ç—Ä–∏–º—É—î–º–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑ URL
        const urlParams = new URLSearchParams(window.location.search);
        const docType = urlParams.get('doc_type') || 'anmeldung';

        // –û–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É –∫–Ω–æ–ø–∫—É
        tg.onEvent('mainButtonClicked', function() {
            const userAnswers = {
                full_name: document.getElementById('full_name').value.trim(),
                address: document.getElementById('address').value.trim(),
                city: document.getElementById('city').value.trim(),
                signature_date: document.getElementById('date').value.trim()
            };

            if (!userAnswers.full_name || !userAnswers.address || !userAnswers.city) {
                tg.showAlert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è!");
                return;
            }

            const data = {
                doc_type: docType,
                status: 'success',
                user_answers: userAnswers
            };

            // –ù–∞–¥—Å–∏–ª–∞—î–º–æ –¥–∞–Ω—ñ
            tg.sendData(JSON.stringify(data));
        });
    </script>
</body>
</html>


